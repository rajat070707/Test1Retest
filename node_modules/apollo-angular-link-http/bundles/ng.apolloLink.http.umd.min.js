!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common/http"),require("apollo-link"),require("graphql/language/printer"),require("apollo-angular-link-http-common"),require("extract-files")):"function"==typeof define&&define.amd?define("apollo-angular-link-http",["exports","@angular/core","@angular/common/http","apollo-link","graphql/language/printer","apollo-angular-link-http-common","extract-files"],t):t((e=e||self)["ng.apolloLink.http"]={},e.ng.core,e.ng.common.http,e.apolloLink.core,e.printer,e.ng.apolloLink.httpCommon,e.extractFiles)}(this,function(e,t,n,r,o,i,u){"use strict";var a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};function l(e,t,n,r){var o,i=arguments.length,u=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)u=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(u=(i<3?o(u):i>3?o(t,n,u):o(t,n))||u);return i>3&&u&&Object.defineProperty(t,n,u),u}function p(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}var c=function(e){function t(t,n){var a=e.call(this)||this;return a.httpClient=t,a.options=n,a.requester=function(e){return new r.Observable(function(t){var n=e.getContext(),r=function(e,t){return i.prioritize(n[e],a.options[e],t)},l=r("includeQuery",!0),p=r("includeExtensions",!1),c=r("method","POST"),s=r("uri","graphql"),f=r("withCredentials"),d=r("useMultipart"),h={method:c,url:"function"==typeof s?s(e):s,body:{operationName:e.operationName,variables:e.variables},options:{withCredentials:f,useMultipart:d,headers:a.options.headers}};p&&(h.body.extensions=e.extensions),l&&(h.body.query=o.print(e.query)),n.headers&&(h.options.headers=i.mergeHeaders(h.options.headers,n.headers));var y=i.fetch(h,a.httpClient,u.extractFiles).subscribe({next:function(n){e.setContext({response:n}),t.next(n.body)},error:function(e){return t.error(e)},complete:function(){return t.complete()}});return function(){y.closed||y.unsubscribe()}})},a}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.request=function(e){return this.requester(e)},t}(r.ApolloLink),s=function(){function e(e){this.httpClient=e}return e.prototype.create=function(e){return new c(this.httpClient,e)},e=l([t.Injectable(),p("design:paramtypes",[n.HttpClient])],e)}(),f=[s],d=function(){function e(){}return e=l([t.NgModule({providers:f})],e)}();e.HttpLink=s,e.HttpLinkHandler=c,e.HttpLinkModule=d,e.PROVIDERS=f,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=ng.apolloLink.http.umd.min.js.map